<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mzlff Clicker</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/css2?family=Unbounded:wght@400;700&display=swap" rel="stylesheet">
    <style>
        body { font-family: 'Unbounded', sans-serif; background-color: #020617; color: #f8fafc; overflow: hidden; margin: 0; height: 100vh; }
        .click-btn:active { transform: scale(0.95); }
        .cooldown { filter: grayscale(1) blur(2px); pointer-events: none; }
        .floating-text { position: absolute; pointer-events: none; animation: floatUp 0.8s ease-out forwards; font-weight: 800; z-index: 100; text-shadow: 0 0 10px rgba(168, 85, 247, 0.5); }
        @keyframes floatUp { 0% { transform: translateY(0) scale(1); opacity: 1; } 100% { transform: translateY(-120px) scale(1.2); opacity: 0; } }
        .progress-bar { transition: width 0.4s cubic-bezier(0.4, 0, 0.2, 1); }
        .avatar-container { position: relative; width: 220px; height: 220px; }
        .avatar-img { width: 100%; height: 100%; object-fit: cover; border-radius: 50%; border: 4px solid #a855f7; box-shadow: 0 0 30px rgba(168, 85, 247, 0.4); transition: all 0.5s ease; }
        .glow-effect { position: absolute; inset: -10px; background: radial-gradient(circle, rgba(168, 85, 247, 0.2) 0%, transparent 70%); border-radius: 50%; z-index: -1; }
        .upgrade-icon { width: 52px; height: 52px; border-radius: 10px; object-fit: cover; border: 2px solid #334155; background: #1e293b; }
        .donation-alert { position: fixed; top: 20%; left: 50%; transform: translateX(-50%) scale(0.8); background: #ff7534; color: white; padding: 20px 40px; border-radius: 10px; box-shadow: 0 0 40px rgba(255, 117, 52, 0.5); z-index: 200; text-align: center; opacity: 0; pointer-events: none; transition: all 0.5s cubic-bezier(0.175, 0.885, 0.32, 1.275); }
        .donation-alert.active { opacity: 1; transform: translateX(-50%) scale(1); }
        .tab-btn.active { border-color: #a855f7; color: #a855f7; background: rgba(168, 85, 247, 0.1); }
    </style>
</head>
<body class="flex flex-col h-screen overflow-hidden">

    <audio id="bg-music" loop>
        <source src="https://www.dropbox.com/scl/fi/th9kidjdf1blqezgqlpcz/.mp3?rlkey=59a6wz4w09v35noavrwbiy081&st=zel497ne&dl=1" type="audio/mpeg">
    </audio>

    <div id="da-alert" class="donation-alert">
        <div class="font-black italic text-2xl mb-1 uppercase tracking-tighter">DonationAlerts</div>
        <div id="da-user" class="font-bold text-lg">ChapaClutch</div>
        <div id="da-amount" class="text-3xl font-black mt-2">500 ‚ÇΩ</div>
        <div id="da-msg" class="text-sm mt-2 opacity-90 italic">"–ù–∞ –±—Ä–∏—Ç—å–µ!"</div>
    </div>

    <header class="h-20 bg-slate-900/50 border-b border-slate-800 flex justify-between items-center px-6 z-50 backdrop-blur-md">
        <div class="flex items-center gap-6">
            <div class="flex flex-col">
                <span class="text-[10px] text-slate-500 uppercase font-bold tracking-tighter">–ó—Ä–∏—Ç–µ–ª–∏ —Å–µ–π—á–∞—Å</span>
                <div class="flex items-center gap-2">
                    <span class="w-2 h-2 bg-red-500 rounded-full animate-pulse"></span>
                    <span id="viewers-count" class="text-xl font-bold">0</span>
                </div>
            </div>
            <div class="h-8 w-px bg-slate-800"></div>
            <div class="flex flex-col">
                <span class="text-[10px] text-orange-400 uppercase font-bold tracking-tighter">–ë–∞–ª–∞–Ω—Å –î–æ–Ω–∞—Ç–æ–≤</span>
                <div class="flex items-center gap-2">
                    <span class="text-xl font-bold text-orange-500"><span id="rubles-count">0</span> ‚ÇΩ</span>
                </div>
            </div>
            <div class="h-8 w-px bg-slate-800"></div>
            <div class="flex flex-col">
                <span class="text-[10px] text-slate-500 uppercase font-bold tracking-tighter">–£—Ä–æ–≤–µ–Ω—å –•–∞–π–ø–∞</span>
                <div class="flex items-center gap-3">
                    <span id="hype-level" class="text-sm font-bold text-purple-400">LVL 1</span>
                    <div class="w-32 bg-slate-800 h-2 rounded-full overflow-hidden border border-slate-700">
                        <div id="hype-progress" class="progress-bar bg-purple-500 h-full w-0 shadow-[0_0_10px_#a855f7]"></div>
                    </div>
                </div>
            </div>
        </div>
        <button onclick="toggleMusic()" id="music-toggle" class="w-10 h-10 flex items-center justify-center bg-slate-800/50 rounded-lg border border-slate-700 hover:border-purple-500 transition-all">üîá</button>
    </header>

    <main class="flex-1 flex overflow-hidden">
        <div class="flex-1 flex flex-col items-center justify-center p-6 relative">
            <div id="main-character" class="cursor-pointer click-btn relative z-10 transition-transform">
                <div class="glow-effect"></div>
                <div class="avatar-container">
                    <img src="https://avatars.mds.yandex.net/i?id=0044f68bd780d4447cd7cbbe0d361d9640f61828-9154878-images-thumbs&n=13" class="avatar-img" id="avatar">
                    <div id="cooldown-overlay" class="absolute inset-0 flex flex-col items-center justify-center bg-black/60 rounded-full opacity-0 transition-opacity">
                        <span class="text-white font-black text-lg italic tracking-widest">CD</span>
                    </div>
                </div>
            </div>
            <div class="mt-8 text-center z-10">
                <p id="character-status" class="text-purple-400 text-xs font-bold tracking-widest uppercase mb-1">–ù–∞—á–∏–Ω–∞—é—â–∏–π —Å—Ç—Ä–∏–º–µ—Ä</p>
                <div class="mt-4 flex gap-4">
                    <div class="bg-slate-900/80 border border-slate-800 px-6 py-2 rounded-xl text-center">
                        <span class="block text-[10px] text-slate-500 uppercase font-bold">–ö–ª–∏–∫</span>
                        <span id="stat-click" class="text-purple-400 font-bold">+1</span>
                    </div>
                    <div class="bg-slate-900/80 border border-slate-800 px-6 py-2 rounded-xl text-center">
                        <span class="block text-[10px] text-slate-500 uppercase font-bold">–ê–≤—Ç–æ</span>
                        <span id="stat-auto" class="text-blue-400 font-bold">0/s</span>
                    </div>
                </div>
            </div>
        </div>

        <div id="sidebar" class="w-96 bg-slate-900/30 border-l border-slate-800 flex flex-col backdrop-blur-xl">
            <div class="grid grid-cols-2 border-b border-slate-800">
                <button onclick="switchTab('upgrades')" id="tab-upgrades" class="tab-btn py-4 text-[10px] font-black uppercase tracking-widest border-b-2 border-transparent transition-all active">–°—Ç—Ä–∏–º</button>
                <button onclick="switchTab('boosts')" id="tab-boosts" class="tab-btn py-4 text-[10px] font-black uppercase tracking-widest border-b-2 border-transparent transition-all">–ë—É—Å—Ç—ã</button>
            </div>
            <div id="content-upgrades" class="flex-1 flex flex-col overflow-hidden">
                <div class="flex-1 overflow-y-auto p-4 space-y-3">
                    <div id="shop-list" class="space-y-3"></div>
                </div>
            </div>
            <div id="content-boosts" class="hidden flex-1 flex flex-col overflow-hidden">
                <div class="flex-1 overflow-y-auto p-4 space-y-3">
                    <div id="boost-shop-list" class="space-y-3"></div>
                </div>
            </div>
            <div class="p-4 text-center border-t border-slate-800">
                <p class="text-[9px] text-slate-600 uppercase font-bold tracking-tighter">Mazellov Clicker</p>
            </div>
        </div>
    </main>

    <div id="toast" class="fixed bottom-10 left-1/2 -translate-x-1/2 bg-white text-black px-8 py-3 rounded-2xl font-bold opacity-0 transition-all pointer-events-none z-[1100] shadow-2xl scale-90">
        <span id="toast-icon">‚ú®</span> <span id="toast-text">–£—Å–ø–µ—Ö!</span>
    </div>

    <script>
        let viewers = 0; let rubles = 0; let clickPower = 1; let autoViewers = 0;
        let hypeThreshold = 100; let currentHype = 0; let level = 1;
        let onCooldown = false; const COOLDOWN_TIME = 400;
        let isMusicPlaying = false;
        let activeBoostMultiplier = 1;
        let boostsOwned = {};

        const donaters = ["ChapaClutch", "priyatnogopoleta", "vyach", "Lurmy", "PanamaOk"];
        const messages = ["–ù–∞ –±—Ä–∏—Ç—å–µ!", "–∫–æ–≥–¥–∞ —Å–º–∞—Ä—Ç–∏–∫–∏?", "–∏–∏ –≤–∏–¥–µ–æ –∏–¥–µ–º —Å–º–æ—Ç—Ä–µ—Ç—å ?", "–£–¥–∞—á–∏!", "–¢–æ–ø —Å—Ç—Ä–∏–º!"];

        const upgrades = [
            { id: 'mic', name: '–ú–∏–∫—Ä–æ—Ñ–æ–Ω Fifine', desc: '+1 –∫ –∫–ª–∏–∫—É', cost: 15, power: 1, type: 'click', img: 'https://avatars.mds.yandex.net/get-mpic/15300889/2a0000019686653154ef0e69295a9ed5a7a4/orig' },
            { id: 'chat', name: '–ú–æ–¥–µ—Ä–∞—Ç–æ—Ä —á–∞—Ç–∞', desc: '+1 –∑—Ä–∏—Ç/—Å–µ–∫', cost: 100, power: 1, type: 'auto', img: 'https://avatars.mds.yandex.net/i?id=4d81bcab882f2018cdd662f230207652e7eb19f1-4669930-images-thumbs&n=13' },
            { id: 'cam', name: '–í–µ–±-–∫–∞–º–µ—Ä–∞ Logitech', desc: '+5 –∫ –∫–ª–∏–∫—É', cost: 500, power: 5, type: 'click', img: 'https://avatars.mds.yandex.net/i?id=8403d6402e88a0b06b0d91d6c8e967a2_l-5221639-images-thumbs&n=13' },
            { id: 'lighting', name: '–°—Ç—É–¥–∏–π–Ω—ã–π —Å–≤–µ—Ç', desc: '+10 –∑—Ä–∏—Ç/—Å–µ–∫', cost: 2000, power: 10, type: 'auto', img: 'https://avatars.mds.yandex.net/i?id=796d8e873b538e68e64c3c38997a393c_l-5221943-images-thumbs&n=13' }
        ];

        let upgradesOwned = {};

        // –ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ô –¶–ò–ö–õ –ê–í–¢–û-–û–ù–õ–ê–ô–ù–ê
        setInterval(() => {
            if (autoViewers > 0) {
                let gain = autoViewers * activeBoostMultiplier;
                viewers += gain;
                currentHype += gain;
                checkLevelUp();
                updateUI();
            }
        }, 1000);

        function checkLevelUp() {
            while (currentHype >= hypeThreshold) {
                currentHype -= hypeThreshold;
                level++;
                hypeThreshold = Math.floor(hypeThreshold * 1.8);
                showToast(`LVL UP: ${level}`, 'üî•');
            }
        }

        function updateUI() {
            document.getElementById('viewers-count').innerText = Math.floor(viewers).toLocaleString();
            document.getElementById('rubles-count').innerText = Math.floor(rubles).toLocaleString();
            document.getElementById('hype-level').innerText = 'LVL ' + level;
            document.getElementById('hype-progress').style.width = (currentHype / hypeThreshold * 100) + '%';
            document.getElementById('stat-click').innerText = '+' + clickPower;
            document.getElementById('stat-auto').innerText = autoViewers + '/s';
            
            upgrades.forEach(u => {
                const btn = document.getElementById('btn-' + u.id);
                if (btn) {
                    const count = upgradesOwned[u.id] || 0;
                    const cost = Math.floor(u.cost * Math.pow(1.35, count));
                    btn.querySelector('.cost').innerText = cost;
                    btn.disabled = viewers < cost;
                }
            });
        }

        document.getElementById('main-character').onclick = (e) => {
            if (onCooldown) return;
            const gain = clickPower * activeBoostMultiplier;
            viewers += gain;
            currentHype += gain;
            checkLevelUp();
            
            const txt = document.createElement('div');
            txt.className = 'floating-text text-purple-400';
            txt.style.left = e.clientX + 'px'; txt.style.top = e.clientY + 'px';
            txt.innerText = '+' + gain;
            document.body.appendChild(txt);
            setTimeout(() => txt.remove(), 800);

            onCooldown = true;
            document.getElementById('avatar').classList.add('cooldown');
            setTimeout(() => {
                onCooldown = false;
                document.getElementById('avatar').classList.remove('cooldown');
            }, COOLDOWN_TIME);
            updateUI();
        };

        function buyUpgrade(id) {
            const u = upgrades.find(up => up.id === id);
            const count = upgradesOwned[id] || 0;
            const cost = Math.floor(u.cost * Math.pow(1.35, count));
            if (viewers >= cost) {
                viewers -= cost;
                upgradesOwned[id] = count + 1;
                if (u.type === 'click') clickPower += u.power;
                else autoViewers += u.power;
                updateUI();
            }
        }

        function triggerDonation() {
            const randomName = donaters[Math.floor(Math.random() * donaters.length)];
            const randomMsg = messages[Math.floor(Math.random() * messages.length)];
            const amount = Math.floor(100 + Math.random() * 2000);
            
            const alert = document.getElementById('da-alert');
            document.getElementById('da-user').innerText = randomName;
            document.getElementById('da-amount').innerText = amount + " ‚ÇΩ";
            document.getElementById('da-msg').innerText = `"${randomMsg}"`;
            
            alert.classList.add('active');
            rubles += amount;
            setTimeout(() => alert.classList.remove('active'), 4000);
            updateUI();
        }

        function switchTab(tab) {
            document.getElementById('content-upgrades').classList.toggle('hidden', tab !== 'upgrades');
            document.getElementById('content-boosts').classList.toggle('hidden', tab !== 'boosts');
            document.getElementById('tab-upgrades').classList.toggle('active', tab === 'upgrades');
            document.getElementById('tab-boosts').classList.toggle('active', tab === 'boosts');
        }

        function toggleMusic() {
            const mu = document.getElementById('bg-music');
            if(isMusicPlaying) mu.pause(); else mu.play();
            isMusicPlaying = !isMusicPlaying;
            document.getElementById('music-toggle').innerText = isMusicPlaying ? 'üîä' : '                    üîá';
        }

        function showToast(m, i) {
            const t = document.getElementById('toast');
            document.getElementById('toast-text').innerText = m;
            document.getElementById('toast-icon').innerText = i;
            t.style.opacity = '1';
            setTimeout(() => t.style.opacity = '0', 2000);
        }

        window.onload = () => {
            const list = document.getElementById('shop-list');
            upgrades.forEach(u => {
                const btn = document.createElement('button');
                btn.id = 'btn-' + u.id;
                btn.className = 'w-full text-left p-4 bg-slate-800/30 border border-slate-700/50 rounded-xl flex items-center gap-4 hover:bg-slate-700/50 transition-all';
                btn.innerHTML = `<img src="${u.img}" class="upgrade-icon"><div><div class="font-bold text-xs">${u.name}</div><div class="text-[8px] text-slate-500 uppercase font-bold tracking-widest">${u.desc}</div></div><div class="ml-auto text-right"><div class="text-white font-bold text-xs"><span class="cost">${u.cost}</span> üëÅ</div></div>`;
                btn.onclick = () => buyUpgrade(u.id);
                list.appendChild(btn);
            });
            updateUI();
            setInterval(() => { if(Math.random() > 0.8) triggerDonation(); }, 45000);
        };
    </script>
</body>
</html>
